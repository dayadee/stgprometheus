k get podmonitors flink-metrics -n monitoring -o yaml
apiVersion: monitoring.coreos.com/v1
kind: PodMonitor
metadata:
  annotations:
    kubectl.kubernetes.io/last-applied-configuration: |
      {"apiVersion":"monitoring.coreos.com/v1","kind":"PodMonitor","metadata":{"annotations":{},"labels":{"app":"flink"},"name":"flink-metrics","namespace":"monitoring"},"spec":{"namespaceSelector":{"matchNames":["flink"]},"podMetricsEndpoints":[{"port":"prometheus"}],"selector":{"matchLabels":{"app":"flink"}}}}
  creationTimestamp: "2022-06-23T17:42:21Z"
  generation: 3
  labels:
    app: flink
    k8slens-edit-resource-version: v1
  name: flink-metrics
  namespace: monitoring
  resourceVersion: "1535282446"
  uid: 7131d4b7-db23-4f48-aecb-393533c6d646
spec:
  namespaceSelector:
    matchNames:
    - flink
    - flink-a
    - flink-b
    - flink-backfill
  podMetricsEndpoints:
  - port: prometheus
  selector:
    matchLabels:
      app: flink
❯ k get pod pii-virtualizer-tm-f4d56c9d-7hlbm -n flink-a -o yaml | grep -A3 ports:
    ports:
    - containerPort: 6122
      name: rpc
      protocol: TCP
❯ k get pod pii-virtualizer-tm-f4d56c9d-8tw67  -n flink-a -o yaml | grep -A3 ports
    ports:
    - containerPort: 6122
      name: rpc
      protocol: TCP
❯ k get pod pii-virtualizer-tm-f4d56c9d-hvd57  -n flink-a -o yaml | grep -A3 ports
    ports:
    - containerPort: 6122
      name: rpc
      protocol: TCP
